{"version":3,"file":"static/js/398.009c9a95.chunk.js","mappings":"6LAKA,MAkEA,EAlEiBA,KACb,MAAQC,YAAaC,IAAiBC,EAAAA,EAAAA,SAAU,yCAC1CC,GAAcC,EAAAA,EAAAA,QAAO,OACrB,WAAEC,IAAeC,EAAAA,EAAAA,YAqCvB,OAnCAC,EAAAA,EAAAA,YAAU,KACN,GAAiB,OAAZN,QAAY,IAAZA,IAAAA,EAAcO,OAAQ,OAE3B,MAAMC,EAAQN,EAAYO,QAAQC,iBAAiB,gBAY7CC,EAAeA,KACjBH,EAAMI,SAASC,IAXUC,KACzB,MAAMC,EAAOD,EAAGE,wBAChB,OACID,EAAKE,KAAO,GACZF,EAAKG,MAAQ,GACbH,EAAKI,SAAWC,OAAOC,aAAeC,SAASC,gBAAgBC,eAC/DT,EAAKU,QAAUL,OAAOM,YAAcJ,SAASC,gBAAgBI,YAAY,EAMrEC,CAAoBf,IACpBA,EAAKgB,UAAUC,IAAI,UACvB,GACF,EASN,OALAnB,IAEAS,OAAOW,iBAAiB,SAAUpB,GAClCS,OAAOW,iBAAiB,SAAUpB,GAE3B,KACHS,OAAOY,oBAAoB,SAAUrB,GACrCS,OAAOY,oBAAoB,SAAUrB,EAAa,CACrD,GACF,CAACX,KAGAiC,EAAAA,EAAAA,KAAA,WAASC,UAAW,aAAY9B,EAAa,OAAS,SAAW+B,IAAKjC,EAAYkC,UAE9EH,EAAAA,EAAAA,KAAA,MAAAG,SACiB,OAAZpC,QAAY,IAAZA,OAAY,EAAZA,EAAcqC,KAAI,CAACxB,EAAMyB,KACtBL,EAAAA,EAAAA,KAAA,MAAgBM,MAAO,CAACC,gBAAiBpC,EAAa,OAAS,QAAQgC,UACnEK,EAAAA,EAAAA,MAAA,OAAKF,MAAO,CACRG,YAAa,MACbC,YAAa,QACbC,YAAaxC,EAAa,OAAS,OACnCyC,aAAc,OACdC,UAAW1C,EACL,sCACA,iCACRgC,SAAA,EAEEH,EAAAA,EAAAA,KAAA,QAAAG,SAAOvB,EAAKkC,OACXlC,EAAKmC,YAZLV,QAiBX,C,gDClElB,SAAiB,C","sources":["pages/Main/experienceSection/timeline.js","webpack://website/./src/pages/Main/experienceSection/timeline.css?2703"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport \"./timeline.css\";\nimport useConfig from \"../../../utils/useConfig\";\nimport {useTheme} from \"../../../components/themeProvider\";\n\nconst Timeline = () => {\n    const { configValue: timelineData } = useConfig(\"pages.home.experienceSection.timeline\");\n    const timelineRef = useRef(null);\n    const { isDarkMode } = useTheme();\n\n    useEffect(() => {\n        if (!timelineData?.length) return; // 确保数据已加载\n\n        const items = timelineRef.current.querySelectorAll(\".timeline li\");\n\n        const isElementInViewport = (el) => {\n            const rect = el.getBoundingClientRect();\n            return (\n                rect.top >= 0 &&\n                rect.left >= 0 &&\n                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n                rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n            );\n        };\n\n        const callbackFunc = () => {\n            items.forEach((item) => {\n                if (isElementInViewport(item)) {\n                    item.classList.add(\"in-view\");\n                }\n            });\n        };\n\n        // 立即执行一次，确保初始状态正确\n        callbackFunc();\n\n        window.addEventListener(\"scroll\", callbackFunc);\n        window.addEventListener(\"resize\", callbackFunc);\n\n        return () => {\n            window.removeEventListener(\"scroll\", callbackFunc);\n            window.removeEventListener(\"resize\", callbackFunc);\n        };\n    }, [timelineData]); // 依赖 `timelineData`，确保数据更新后执行\n\n    return (\n        <section className={`timeline ${isDarkMode ? \"dark\" : \"light\"}`} ref={timelineRef}>\n\n            <ul>\n                {timelineData?.map((item, index) => (\n                    <li key={index} style={{backgroundColor: isDarkMode ? \"#fff\" : \"#000\"}}>\n                        <div style={{\n                            borderWidth: \"2px\",\n                            borderStyle: \"solid\", // 指定边框样式\n                            borderColor: isDarkMode ? \"#fff\" : \"#000\",\n                            borderRadius: '10px', // 可选圆角\n                            boxShadow: isDarkMode\n                                ? '0 8px 12px rgba(255, 255, 255, 0.5)' // 深色模式下的阴影\n                                : '0 8px 12px rgba(0, 0, 0, 0.5)', // 浅色模式下的阴影\n                        }}\n                        >\n                            <time>{item.year}</time>\n                            {item.content}\n                        </div>\n                    </li>\n                ))}\n            </ul>\n        </section>\n    );\n};\n\nexport default Timeline;","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["Timeline","configValue","timelineData","useConfig","timelineRef","useRef","isDarkMode","useTheme","useEffect","length","items","current","querySelectorAll","callbackFunc","forEach","item","el","rect","getBoundingClientRect","top","left","bottom","window","innerHeight","document","documentElement","clientHeight","right","innerWidth","clientWidth","isElementInViewport","classList","add","addEventListener","removeEventListener","_jsx","className","ref","children","map","index","style","backgroundColor","_jsxs","borderWidth","borderStyle","borderColor","borderRadius","boxShadow","year","content"],"sourceRoot":""}